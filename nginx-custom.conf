# Custom nginx settings for n8n
# This file is included in /etc/nginx/conf.d/ (proxy-wide)

# Allow large file uploads (workflows, binary data)
client_max_body_size 100M;

# Security headers (applied to all proxied responses)
proxy_hide_header X-Powered-By;
add_header X-Frame-Options "SAMEORIGIN" always;
add_header X-Content-Type-Options "nosniff" always;
add_header X-XSS-Protection "1; mode=block" always;
add_header Referrer-Policy "strict-origin-when-cross-origin" always;

# Gzip compression
gzip on;
gzip_vary on;
gzip_proxied any;
gzip_comp_level 6;
gzip_min_length 1000;
gzip_types text/plain text/css text/xml text/javascript
           application/json application/javascript application/xml
           application/rss+xml image/svg+xml;
